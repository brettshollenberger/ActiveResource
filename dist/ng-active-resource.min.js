function privateVariable(a,b,c){var d;Object.defineProperty(a,b,{enumerable:!1,configurable:!0,get:function(){return d},set:function(a){d=a}}),void 0!==c&&(a[b]=c)}angular.module("ngActiveResource",[]).factory("ngActiveResource",["ARAPI","ARBase","ARConfigurable","ARDirty","ARWatchable",function(a,b,c,d,e){return ngActiveResource={},ngActiveResource.API=a,ngActiveResource.Base=b,ngActiveResource.Configurable=c,ngActiveResource.Dirty=d,ngActiveResource.Watchable=e,ngActiveResource}]),Function.prototype.inherits=function(a){var b=this;b=a.apply(b)},Function.prototype.extend=function(a){var b=new a,c=Object.getOwnPropertyNames(b),d=_.remove(c,function(a){return"__"!=a.slice(0,2)});_.each(d,function(a){var c=Object.getOwnPropertyDescriptor(b,a);Object.defineProperty(this,a,c)},this),_.isFunction(a.extended)&&a.extended(this)},Object.defineProperty(Object.prototype,"extend",{enumerable:!1,configurable:!0,value:Function.prototype.extend}),Function.prototype.include=function(a){var b=new a,c=Object.getOwnPropertyNames(b),d=_.remove(c,function(a){return"__"==a.slice(0,2)});_.each(d,function(a){var c=Object.getOwnPropertyDescriptor(b,a);Object.defineProperty(this.prototype,a.slice(2),c)},this),_.isFunction(a.included)&&a.included(this)},Object.defineProperty(Array.prototype,"nodupush",{enumerable:!1,configurable:!0,value:function(a){_.include(this,a)||this.push(a)}}),angular.module("ngActiveResource").factory("ARAPI",["ARQueryString","ARMime","ARSerializeAssociations",function(a,b,c){function d(d){function e(a){return a=u(a),a=q(a)}function f(a){return _.include(v.GETURLs,a+"URL")}function g(a){var b=v[a+"URL"];return _.isUndefined(b)&&(b=v["set"+a.capitalize()+"URL"]()),e(v.baseURL)+b}function h(a,b,e){return d.reflections&&(b=c(b,d.reflections)),e&&(a=i(a,b)),v.appendFormat&&(a=n(a)),a=l(a,b)}function i(a,b){var c=j(a,b);return c.length?a+"?"+c:a}function j(b,c){function d(a,c){return _.include(k(b),c)}return a.stringify(_.chain(c).cloneDeep().omit(_.isUndefined).omit(d).value())}function k(a){return _.chain(a.split("/")).reject(function(a){return":"!=a[0]}).map(function(a){return a.slice(1)}).value()}function l(a,b){return a.replace(/\:(\w+)/g,function(a,c){return m(c)?":"+c:o(c,b[c])})}function m(a){return!isNaN(a)}function n(a){var b=a.split("?");return b[0]=b[0]+"."+v.mimetype().subtypeName,b.join("?")}function o(a,b){return _.isFunction(p(a))?p(a)(b):b}function p(a){return v["parameterize"+a.classify()]}function q(a){return r(a)?a:t()+a}function r(a){return!!a.match(s())}function s(){return/\w+\:\/\//}function t(){return"http://"}function u(a){return"/"==a.slice(-1)?a.slice(0,-1):a}var v=this;v.klass=d,v.GETURLs=["indexURL","showURL"],v.configure=function(a){return a(v)},v.setIndexURL=function(){return v.indexURL=v.resourcesURL(),v.indexURL},v.setCreateURL=function(){return v.createURL=v.resourcesURL(),v.createURL},v.setShowURL=function(){return v.showURL=v.resourceURL(),v.showURL},v.setUpdateURL=function(){return v.updateURL=v.resourceURL(),v.updateURL},v.setDeleteURL=function(){return v.deleteURL=v.resourceURL(),v.deleteURL},v.get=function(a,b){return h(g(a),b,f(a))},v.resourceName=function(){return v.resource?v.resource:v.klass.name},v.resourcesURL=function(){return"/"+v.resourceName().underscore().pluralize()},v.resourceURL=function(){return v.resourcesURL()+"/:"+v.klass.primaryKey},v.mimetype=function(){return b.Type.find(v.format)}}return d.prototype.appendFormat=!0,d.prototype.baseURL="http://api.override.com",d.prototype.$http={},d.prototype.format="application/json",d.included=function(a){a.api=new d(a)},d.configure=function(a){return a(d.prototype)},d}]),angular.module("ngActiveResource").factory("ARAssociatable",[function(){function a(){}return a.included=function(a){function b(b,c){_.each(a.reflections,function(a){a.initialize(b,c)})}a.during("new",b),a.during("update",b)},a}]),angular.module("ngActiveResource").factory("ARAssociatable.CollectionAssociation",["ARMixin","ARFunctional.Collection","ARDelegatable",function(a,b,c){function d(e,f){function g(){privateVariable(this,"standardize",function(){var a={};return a[i.inverse().name]=e,_.defaults({},this,a)})}function h(){privateVariable(this,"standardize",function(){var a={};return a[i.inverse().foreignKey]=e[i.klass().primaryKey],_.defaults({},this,a)})}var i=a([],b);return privateVariable(i,"constructor",d),i.extend(c),i.delegate(["name","klass","options","associationPrimaryKey","inverse","inverseKlass"]).to(f),i.new=function(b){return b=b||{},a(b,g),i.klass().new(b.standardize())},i.$create=function(a){return i.new(a).$save()},i.where=function(b){return b=b||{},a(b,h),i.klass().where(b.standardize())},i.findAll=function(){return i.where({})},i}return d}]),angular.module("ngActiveResource").factory("ARBase",["AREventable","ARCreatable","ARUpdatable","ARSaveable","ARQueryable","ARFindable","ARDeletable","ARSerializable","ARDeserializable","ARValidatable","ARPrimaryKey","ARWatchable","ARDirty","ARAPI","ARAssociatable","ARCacheable","ARErrorable","ARMime.Formattable","ARDefinable","ARComputedProperty","ARFunctional","ARPromiseable","ARReflections",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(){this.extend(a),this.extend(b),this.extend(e),this.extend(f),this.extend(h),this.extend(i),this.extend(j),this.extend(k),this.extend(l),this.extend(m),this.include(c),this.include(d),this.include(g),this.include(n),this.include(o),this.include(w),this.include(p),this.include(q),this.include(j),this.include(r),this.include(s),this.include(t),this.include(u),this.include(v)}return x}]),angular.module("ngActiveResource").factory("ARCacheable",["ARMixin","ARFunctional.Collection",function(a,b){function c(){a(this,b),privateVariable(this,"cache",function(a){var b=this.primaryKey;a&&void 0!==a[b]&&(this.cached[a[b]]=a)}),privateVariable(this,"findCached",function(a){return this.cached[a[this.primaryKey]]}),privateVariable(this,"removeCached",function(a){delete this.cached[a[this.primaryKey]]}),privateVariable(this,"find",function(a){return this[a]})}return c.included=function(a){a.cached=new c,a.cache=a.cached.cache,a.findCached=a.cached.findCached,a.removeCached=a.cached.removeCached,a.after("new",a.cache),a.after("find",a.cache),a.after("save",a.cache),a.after("delete",a.removeCached)},c}]),angular.module("ngActiveResource").factory("ARComputedProperty",[function(){function a(){this.__computedProperty=function(a,b,c){var d=this,e=this.constructor.constructing.attributes;c||(c=[]),c.push||(c=[c]);var f;Object.defineProperty(d,a,{enumerable:!0,configurable:!0,get:function(){return f},set:function(){return f=b.apply(d)}}),_.each(c,function(b){var c,f=d.__lookupSetter__(b),g=d[b];Object.defineProperty(d,b,{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){return void 0!==b&&"set"!=b&&(c=b),f&&(c==b?f():c=f()),d[a]="set",c}}),d[b]=e&&e[b]?e[b]:g})}}return a}]),angular.module("ngActiveResource").factory("ARConfigurable",[function(){function a(b){b=b||{};var c=Object.getOwnPropertyNames(b);_.each(c,function(c){var d=b[c];Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d},set:function(b){_.isObject(d)?(d=_.merge({},b,d,_.defaults),a(d)):d=b}}),_.isObject(d)&&a(d)})}return a.extended=function(b){a(b)},a}]),angular.module("ngActiveResource").factory("ARDefinable",[function(){function a(){function a(a,c){b["__"+a]=function(a){if(_.isObject(c)){var b={};b[a]=c,this.constructor.validates(b)}this[a]=this.constructor.constructing.attributes[a]}}var b=this;new a("string"),new a("integer",{integer:{ignore:/\,/g}}),new a("number",{numericality:{ignore:/\,/g}}),new a("boolean",{"boolean":!0})}return a.included=function(a){a.before("new",function(b){a.constructing={attributes:b}}),a.after("new",function(){delete a.constructing})},a}]),angular.module("ngActiveResource").factory("ARDelegatable",[function(){function a(){function a(a,c){function d(){return _.isFunction(a[c].new)}return _.isFunction(a[c])?d()?b(a,c):_.bind(a[c],a):a[c]?b(a,c):void 0}function b(a,b){return function(){return a[b]}}this.__delegate=function(b){var b=_.isArray(b)?b:[b],c=this;return b.to=function(d){_.each(b,function(b){Object.defineProperty(c,b,{enumerable:!1,configurable:!0,value:a(d,b)})})},b}}return a.extended=function(b){b.delegate=(new a).__delegate},a}]),angular.module("ngActiveResource").factory("ARDirty",["ARMixin",function(a){function b(){privateVariable(this,"dirty",function(a){return a=new c(a),this.changedAttributes(a).length>0}),privateVariable(this,"changedAttributes",function(a){var a=new c(a),b=this.lastSave||{},f=_.cloneDeep(this),g=this.constructor,h=g.reflections||{};return b=this.constructor.deserialize(this.constructor.serialize(b)),f=this.constructor.deserialize(this.constructor.serialize(f)),a.ignoreAssociations&&(b=d(b,h),f=d(f,h)),_.compact(_.map(Object.keys(f),function(a){return e(a,f,b)?a:void 0},this))})}function c(a){return a=a||{},_.defaults(a,{ignoreAssociations:!0})}function d(a,b){return _.isFunction(b.each)?(b.each(function(b){delete a[b.name],delete a[b.foreignKey]}),a):a}function e(a,b,c){return _.isUndefined(c[a])&&(c[a]=""),_.isObject(b[a])?f(b[a],c[a]):String(b[a])!==String(c[a])}function f(a,b){return g(a)!==g(b)}function g(a){var b=_.keys(a).sort();return JSON.stringify(_.inject(b,function(b,c){return b[c]=a[c],b},{}))}return b.extended=function(c){c.after("new",function(c){a(c,b)}),c.after("save",function(a){privateVariable(a,"lastSave",_.cloneDeep(a))})},b}]),angular.module("ngActiveResource").factory("ARErrorable",[function(){function a(){function a(a){var b=c[a].length;delete c[a],c.count-=b}function b(a,b){_.include(c[a],b)&&(_.pull(c[a],b),c.count--,0===c[a].length&&delete c[a])}var c={};privateVariable(c,"add",function(a,b){_.isUndefined(c[a])&&(c[a]=[]),_.include(c[a],b)||(c[a].push(b),c.count++)}),privateVariable(c,"clear",function(d,e){if(_.isUndefined(e)){var f=[];_.isArray(d)&&(f=d),_.isString(d)&&f.push(d),_.isUndefined(d)&&(f=_.keys(c)),_.each(f,a)}else b(d,e)}),privateVariable(c,"countFor",function(a){return _.isUndefined(a)?c.count:c[a]?c[a].length:0}),privateVariable(c,"count",0),this.__$errors=c}return a}]),angular.module("ngActiveResource").factory("AREventable",[function(){function a(){function a(a,c){return a in b.handlers||(b.handlers[a]=[]),b.handlers[a].push(c),this}var b={handlers:{}};Object.defineProperty(this,"emit",{enumerable:!0,value:function(a){if(b.handlers[a]){var c=Array.prototype.slice.call(arguments,1);return _.each(b.handlers[a],function(a){a.apply(this,c)},this),b}}}),this.on=function(b,c){return a(b,c)},this.before=function(b,c){return a(b+":called",c)},this.during=function(b,c){return a(b+":beginning",c)},this.data=function(b,c){return a(b+":data",c)},this.after=function(b,c){return a(b+":complete",c)},this.fail=function(b,c){return a(b+":fail",c)}}return a}]),angular.module("ngActiveResource").factory("ARForeignKeyify",[function(){return function(a){var b=a.constructor.reflections,a=_.cloneDeep(a);return _.transform(b,function(b,c){c.foreignKey&&a[c.name]&&(a[c.foreignKey]=a[c.name][c.associationPrimaryKey()],delete a[c.name])},a)}}]),function(){angular.module("ngActiveResource").factory("ARFunctionChain",[function(){function a(a){void 0===a&&(a={}),b(a.functions);var c=a.functions||[];return c.name=a.name||"Function chain",c.push=d,c.unshift=e,c.remove=h,c.removeAll=k,c}function b(a){if(void 0!==a){if(!_.isArray(a))throw new c;_.each(a,function(a){if(!_.isFunction(a))throw new c})}}function c(){this.name="FunctionChainInitializationError",this.message="Function chain must be an array of functions"}function d(){f.apply(this,_.flatten(["push",arguments]))}function e(){f.apply(this,_.flatten(["unshift",arguments]))}function f(a){var b=this;_.each(Array.prototype.slice.call(arguments,1),function(c){g.call(this,c),Array.prototype[a].call(b,c)})}function g(a){if(!_.isFunction(a))throw new TypeError(this.name+" must contain functions")}function h(a){var b=this;_.isFunction(a)&&i(b,a),_.isString(a)&&j(b,a)}function i(a,b){_.remove(a,b)}function j(a,b){_.remove(a,function(a){return a.name==b})}function k(){var a=this;_.remove(a,function(a){return _.isFunction(a)})}return a}])}(),angular.module("ngActiveResource").factory("ARFunctional.Collection",["ARMixin",function(a){function b(){privateVariable(this,"each",function(a){return _.each(this,a,this)}),privateVariable(this,"map",function(c){return a(_.map(this,c,this),b)}),privateVariable(this,"$map",function(a){for(var b in this)this[b]=a(this[b]);return this}),privateVariable(this,"collect",function(a){return this.map(a,this)}),privateVariable(this,"$collect",function(a){return this.$map(a,this)}),privateVariable(this,"pluck",function(c){return a(_.pluck(this,c),b)}),privateVariable(this,"inject",function(a,b){return _.inject(this,a,b)}),privateVariable(this,"reduce",function(a){return this.inject(a,acculumulator)}),privateVariable(this,"all",function(a){return _.all(this,a,this)}),privateVariable(this,"every",function(a){return this.all(a,this)}),privateVariable(this,"any",function(a){return _.any(this,a,this)}),privateVariable(this,"max",function(a){return _.max(this,a,this)}),privateVariable(this,"min",function(a){return _.min(this,a,this)}),privateVariable(this,"filter",function(c){return a(_.filter(this,c,this),b)}),privateVariable(this,"$filter",function(a){return this.$map(function(b){return a(b)?b:void 0}).$compact()}),privateVariable(this,"select",function(a){return this.filter(a)}),privateVariable(this,"$select",function(a){return this.$filter(a)}),privateVariable(this,"reject",function(c){return a(_.reject(this,c,this),b)}),privateVariable(this,"$reject",function(a){return this.$map(function(b){return a(b)?void 0:b}).$compact()}),privateVariable(this,"include",function(a){return _.include(this,a)}),privateVariable(this,"contains",function(a){return this.include(a)}),privateVariable(this,"sortBy",function(a){return _.sortBy(this,a,this)}),privateVariable(this,"transform",function(a,b){return _.transform(this,a,b)}),privateVariable(this,"toObject",function(a){return this.transform(a,{})}),privateVariable(this,"compact",function(){return a(_.compact(this),b)}),privateVariable(this,"$compact",function(){for(var a=this.length;a--;)(_.isUndefined(this[a])||_.isNull(this[a])||0===this[a]||""==this[a]||this[a]===!1)&&this.splice(a,1);return this}),privateVariable(this,"$removeAll",function(){return this.$map(function(){}).$compact()}),privateVariable(this,"count",function(a){return this.inject(function(b,c){return a(c)&&(b+=1),b},0)}),privateVariable(this,"where",function(c){return a(_.where(this,c,this),b)}),privateVariable(this,"first",function(){return _.first(this)}),privateVariable(this,"last",function(){return _.last(this)}),privateVariable(this,"isEmpty",function(){return _.isEmpty(this)}),privateVariable(this,"empty",function(){return this.isEmpty()})}return b}]),angular.module("ngActiveResource").factory("ARFunctional",[function(){function a(){this.__tap=function(a){return a(this),this}}return a}]),angular.module("ngActiveResource").factory("ARHTTPConfig",["$http",function(){function a(a){return _.merge({},a.api.$http,{headers:{"Content-Type":a.api.mimetype().name,Accept:a.api.mimetype().name}},_.defaults)}return a}]),angular.module("ngActiveResource").factory("ARHTTPResponseHandler",["ARStrictRequire",function(a){function b(b){return a(b,["action","response","deferred","klass","params"]),this.action=b.action,this.request={url:b.url,params:b.params},this.response=b.response,this.status=b.status||200,this.headers=b.headers||function(){return{}},this.deferred=b.deferred,this.klass=b.klass,this.params=b.params,this.success=b.success,this.error=b.error,this.handler=function(){return _.isFunction(this.klass[this.action+"Handler"])?this.klass[this.action+"Handler"]:c},this.klass.emit(this.action+":data",this.response),this.resolve=this.handler()(this.response,this.status,this.headers),this.resolve?new d(this):new e(this)}function c(a,b){return b=String(b),"4"!=b[0]&&"5"!=b[0]}function d(a){a.response=a.klass.deserialize(a.response.data),a.success(a),a.klass.emit(a.action+":complete",a.deferred,a.response,a.request),a.deferred.resolve(a.response)}function e(a){a.response.status=a.response.status||a.status,a.response.headers=a.response.headers||a.headers,a.error(a),a.klass.emit(a.action+":fail",a.deferred,a.response,a.request),a.deferred.reject()}return b}]),angular.module("ngActiveResource").factory("ARMime.Formattable",["ARMime","ARMime.XML","ARMime.JSON",function(a){function b(){this.__toXml=function(){return a.format({type:"xml",data:this})},this.__toJson=function(){return a.format({type:"json",data:this})}}return b}]),angular.module("ngActiveResource").factory("ARMime.JSON",["ARMime",function(a){new a.Format({name:"json"}),new a.Type({name:"application/json"});return a.formats.json.parsers.push(function(a){return _.isObject(a)?a:_.isString(a)?JSON.parse(a):void 0}),a.formats.json.formatters.push(JSON.stringify),JSON}]),function(){function a(a,c){var d=b(a.type,c);return _.each(d,function(b){a.data=b(a.data)}),a.data}function b(a,b){var e=c(a,b),f=_.isString(e.name)?d(e,b):d(a,b);return _.isUndefined(f)?e[b]:_.flatten([f[b],e[b]])}function c(a,b){return f.types.find(a)||e(b)}function d(a,b){return f.formats.find(a)||f.formats.find(a.suffix)||f.formats.find(a.subtypeName)||e(b)}function e(a){var b={};return b[a]=[],b}var f={};angular.module("ngActiveResource").factory("ARMime",["ARMime.Format","ARMime.Type","ARMime.parse","ARMime.format","ARSet",function(a,b,c,d,e){return f.Format=a,f.Type=b,f.formats=new e,f.types=new e,f.parse=c,f.format=d,f.Type.find=function(a){var b=f.types.find(a),c=f.formats.find(a);if(!_.isUndefined(b))return b;if(_.isUndefined(c))throw new MimeTypeNotFoundError(a);return f.types.find(f.Type.defaults[c.name])},f.Type.defaults={json:"application/json",xml:"text/xml"},f}]).factory("ARMime.Format",["ARStrictRequire","ARMime.parse","ARMime.format","ARFunctionChain",function(a,b,c,d){function e(b){a(b,["name"]),this.name=b.name,this.parsers=new d({functions:b.parsers,name:"Parsers"}),this.formatters=new d({functions:b.formatters,name:"Formatters"}),this.parse=g,this.format=h,1!=b.mimetype&&f.formats.add({key:this.name,value:this,error:"Format already registered with ngActiveResource. See ARMime documentation to customize this Format."})}function g(a){return i(this.name,a,b)}function h(a){return i(this.name,a,c)}function i(a,b,c){return c({type:a,data:b})}return e}]).factory("ARMime.Type",["ARStrictRequire","ARMime.parse","ARMime.Format",function(a,b,c){function d(b){a(b,["name"]),b.mimetype=!0,c.call(this,b),e.call(this,b.name),f.types.add({key:this.name,value:this,error:"MimeType already registered with ngActiveResource. See ARMime documentation to customize this MimeType."})}function e(a){function b(){return a.split("/")[0]}function c(){return a.split("/")[1]}function d(){return i()?a.split(".")[0]:"standards"}function e(){return i()?a.split(".")[1]:a.split(".")[0]}function f(){return j()?a.split("+")[0]:a}function h(){return j()?a.split("+")[1]:void 0}function i(){return void 0!==a.split(".")[1]}function j(){return void 0!==a.split("+")[1]}g(a),this.topLevelName=b(),a=c(),this.tree=d(),a=e(),this.subtypeName=f(),this.suffix=h()}function g(a){if(null===a.match("/"))throw{name:"InvalidMimeTypeError",message:"MimeType "+a+" must be in format top-level-name/subtype-name[+suffix]. E.g. application/json or application/atom+xml"}}return d}]).factory("ARMime.parse",["ARStrictRequire",function(b){function c(c){return b(c,["type","data"]),a(c,"parsers"),d(c.data,c.type),c.data}function d(a,b){if(!_.isObject(a))throw{name:"ParseError",message:"Parse chain did not return a Javascript object for mimetype "+b}}return c}]).factory("ARMime.format",["ARStrictRequire",function(b){function c(c){return b(c,["type","data"]),a(c,"formatters")}return c}])}(),angular.module("ngActiveResource").factory("ARMime.toNativeTypes",[function(){return function a(b){return _.transform(b,function(b,c,d){b[d]=_.isArray(c)?_.map(c,a):_.isObject(c)?a(c):isNaN(c)?c:parseFloat(c)},{})}}]),angular.module("ngActiveResource").factory("ARMime.XML",["ARMime","ARMime.toNativeTypes",function(a,b){function c(a){function b(){void 0===a.escapeMode&&(a.escapeMode=!0),a.attributePrefix=a.attributePrefix||"_",a.arrayAccessForm=a.arrayAccessForm||"none",a.emptyNodeForm=a.emptyNodeForm||"text",void 0===a.enableToStringFunc&&(a.enableToStringFunc=!0),a.arrayAccessFormPaths=a.arrayAccessFormPaths||[],void 0===a.skipEmptyTextNodesForObj&&(a.skipEmptyTextNodesForObj=!0),void 0===a.stripWhitespaces&&(a.stripWhitespaces=!0),a.datetimeAccessFormPaths=a.datetimeAccessFormPaths||[]}function c(){function a(a){var b=String(a);return 1===b.length&&(b="0"+b),b}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function d(a){var b=a.localName;return null==b&&(b=a.baseName),(null==b||""==b)&&(b=a.nodeName),b}function e(a){return a.prefix}function f(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):a}function g(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function h(b,c,d){switch(a.arrayAccessForm){case"property":b[c+"_asArray"]=b[c]instanceof Array?b[c]:[b[c]]}if(!(b[c]instanceof Array)&&a.arrayAccessFormPaths.length>0){for(var e=0;e<a.arrayAccessFormPaths.length;e++){var f=a.arrayAccessFormPaths[e];if("string"==typeof f){if(f==d)break}else if(f instanceof RegExp){if(f.test(d))break}else if("function"==typeof f&&f(b,c,d))break}e!=a.arrayAccessFormPaths.length&&(b[c]=[b[c]])}}function i(a){var b=a.split(/[-T:+Z]/g),c=new Date(b[0],b[1]-1,b[2]),d=b[5].split(".");if(c.setHours(b[3],b[4],d[0]),d.length>1&&c.setMilliseconds(d[1]),b[6]&&b[7]){var e=60*b[6]+Number(b[7]),f=/\d\d-\d\d:\d\d$/.test(a)?"-":"+";e=0+("-"==f?-1*e:e),c.setMinutes(c.getMinutes()-e-c.getTimezoneOffset())}else-1!==a.indexOf("Z",a.length-1)&&(c=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())));return c}function j(b,c,d){if(a.datetimeAccessFormPaths.length>0){for(var e=d.split(".#")[0],f=0;f<a.datetimeAccessFormPaths.length;f++){var g=a.datetimeAccessFormPaths[f];if("string"==typeof g){if(g==e)break}else if(g instanceof RegExp){if(g.test(e))break}else if("function"==typeof g&&g(obj,c,e))break}return f!=a.datetimeAccessFormPaths.length?i(b):b}return b}function k(b,c){if(b.nodeType==w.DOCUMENT_NODE){for(var f=new Object,i=b.childNodes,l=0;l<i.length;l++){var m=i.item(l);if(m.nodeType==w.ELEMENT_NODE){var n=d(m);f[n]=k(m,n)}}return f}if(b.nodeType==w.ELEMENT_NODE){var f=new Object;f.__cnt=0;for(var i=b.childNodes,l=0;l<i.length;l++){var m=i.item(l),n=d(m);m.nodeType!=w.COMMENT_NODE&&(f.__cnt++,null==f[n]?(f[n]=k(m,c+"."+n),h(f,n,c+"."+n)):(null!=f[n]&&(f[n]instanceof Array||(f[n]=[f[n]],h(f,n,c+"."+n))),f[n][f[n].length]=k(m,c+"."+n)))}for(var o=0;o<b.attributes.length;o++){var p=b.attributes.item(o);f.__cnt++,f[a.attributePrefix+p.name]=p.value}var q=e(b);return null!=q&&""!=q&&(f.__cnt++,f.__prefix=q),null!=f["#text"]&&(f.__text=f["#text"],f.__text instanceof Array&&(f.__text=f.__text.join("\n")),a.escapeMode&&(f.__text=g(f.__text)),a.stripWhitespaces&&(f.__text=f.__text.trim()),delete f["#text"],"property"==a.arrayAccessForm&&delete f["#text_asArray"],f.__text=j(f.__text,n,c+"."+n)),null!=f["#cdata-section"]&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],"property"==a.arrayAccessForm&&delete f["#cdata-section_asArray"]),1==f.__cnt&&null!=f.__text?f=f.__text:0==f.__cnt&&"text"==a.emptyNodeForm?f="":f.__cnt>1&&null!=f.__text&&a.skipEmptyTextNodesForObj&&(a.stripWhitespaces&&""==f.__text||""==f.__text.trim())&&delete f.__text,delete f.__cnt,!a.enableToStringFunc||null==f.__text&&null==f.__cdata||(f.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),f}return b.nodeType==w.TEXT_NODE||b.nodeType==w.CDATA_SECTION_NODE?b.nodeValue:void 0}function l(b,c,d,e){var g="<"+(null!=b&&null!=b.__prefix?b.__prefix+":":"")+c;if(null!=d)for(var h=0;h<d.length;h++){var i=d[h],j=b[i];a.escapeMode&&(j=f(j)),g+=" "+i.substr(a.attributePrefix.length)+"='"+j+"'"}return g+=e?"/>":">"}function m(a,b){return"</"+(null!=a.__prefix?a.__prefix+":":"")+b+">"}function n(a,b){return-1!==a.indexOf(b,a.length-b.length)}function o(b,c){return"property"==a.arrayAccessForm&&n(c.toString(),"_asArray")||0==c.toString().indexOf(a.attributePrefix)||0==c.toString().indexOf("__")||b[c]instanceof Function?!0:!1}function p(a){var b=0;if(a instanceof Object)for(var c in a)o(a,c)||b++;return b}function q(b){var c=[];if(b instanceof Object)for(var d in b)-1==d.toString().indexOf("__")&&0==d.toString().indexOf(a.attributePrefix)&&c.push(d);return c}function r(b){var c="";return null!=b.__cdata&&(c+="<![CDATA["+b.__cdata+"]]>"),null!=b.__text&&(c+=a.escapeMode?f(b.__text):b.__text),c}function s(b){var c="";return b instanceof Object?c+=r(b):null!=b&&(c+=a.escapeMode?f(b):b),c}function t(a,b,c){var d="";if(0==a.length)d+=l(a,b,c,!0);else for(var e=0;e<a.length;e++)d+=l(a[e],b,q(a[e]),!1),d+=u(a[e]),d+=m(a[e],b);return d}function u(a){var b="",c=p(a);if(c>0)for(var d in a)if(!o(a,d)){var e=a[d],f=q(e);if(null==e||void 0==e)b+=l(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array)b+=t(e,d,f);else if(e instanceof Date)b+=l(e,d,f,!1),b+=e.toISOString(),b+=m(e,d);else{var g=p(e);g>0||null!=e.__text||null!=e.__cdata?(b+=l(e,d,f,!1),b+=u(e),b+=m(e,d)):b+=l(e,d,f,!0)}else b+=l(e,d,f,!1),b+=s(e),b+=m(e,d)}return b+=s(a)}var v="1.1.5";a=a||{},b(),c();var w={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(a){var b=window.ActiveXObject||"ActiveXObject"in window;if(void 0===a)return null;var c;if(window.DOMParser){var d=new window.DOMParser,e=null;if(!b)try{e=d.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(f){e=null}try{c=d.parseFromString(a,"text/xml"),null!=e&&c.getElementsByTagNameNS(e,"parsererror").length>0&&(c=null)}catch(f){c=null}}else 0==a.indexOf("<?")&&(a=a.substr(a.indexOf("?>")+2)),c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a);return c},this.asArray=function(a){return a instanceof Array?a:[a]},this.toXmlDateTime=function(a){return a instanceof Date?a.toISOString():"number"==typeof a?new Date(a).toISOString():null},this.asDateTime=function(a){return"string"==typeof a?i(a):a},this.xml2json=function(a){return k(a)},this.xml_str2json=function(a){var b=this.parseXmlString(a);return null!=b?this.xml2json(b):null},this.json2xml_str=function(a){return u(a)},this.json2xml=function(a){var b=this.json2xml_str(a);return this.parseXmlString(b)},this.getVersion=function(){return v}}var d=new a.Format({name:"xml"}),e=(new a.Type({name:"text/xml"}),new c);return a.formats.xml.parsers.push(_.bind(e.xml_str2json,e)),a.formats.xml.parsers.push(b),a.formats.xml.formatters.push(_.bind(e.json2xml_str,e)),d}]),angular.module("ngActiveResource").factory("ARMixin",[function(){function a(a,b){var c=new b,d=Object.getOwnPropertyNames(c);return _.each(d,function(b){if(!a.hasOwnProperty(b)){var d=Object.getOwnPropertyDescriptor(c,b);Object.defineProperty(a,b,d)}}),_.isFunction(b.mixedIn)&&b.mixedIn(a),a}return a}]),angular.module("ngActiveResource").factory("ARUnwrapRoot",[function(){return function(a){return _.transform(a,function(b,c,d){return _.each(a[d],function(a,c){b[c]=a}),b},{})}}]),angular.module("ngActiveResource").factory("ARCreatable",[function(){function a(){this.new=function(a){a=a||{},this.emit("new:called",a);var b=new this(a);return this.emit("new:beginning",b,a),this.emit("new:complete",b),b},this.$create=function(a,b){return this.new().$save(a,b)},this.createOrUpdate=function(a){return a=a||{},this.findCached(a)?this.findCached(a).update(a):this.new(a)}}return a}]),angular.module("ngActiveResource").factory("ARDeletable",["$http","ARHTTPResponseHandler","ARHTTPConfig",function(a,b,c){function d(){this.__$delete=function(d){function g(a,c,d){new b({action:"delete",url:j,response:a,status:c,headers:d,deferred:h,klass:i,params:{},success:e,error:f})}var h=this,i=h.constructor,j=i.api.get("delete",h);return d=_.merge({},d,c(i),_.defaults),i.emit("delete:called",h),h.defer(),a.delete(j,d).error(g).then(g),h}}function e(){}function f(){}return d}]),angular.module("ngActiveResource").factory("ARFindable",["$http","ARHTTPResponseHandler","ARHTTPConfig",function(a,b,c){function d(){function d(){}function e(){}this.find=function(f,g){function h(){return _.isObject(f)?f:_.inject([f],function(a,b){return a[m.primaryKey]=b,a},{})}function i(){return!!j()}function j(){return m.cached[f[m.primaryKey]]}function k(){var a=j();return a.defer(),a.resolve({status:"local",data:{message:"Local instance returned from cache"}}),a}function l(){function c(a,c,g){new b({action:"find",url:i,response:a,status:c,headers:g,deferred:h,klass:m,params:f,success:d,error:e})}var h=m.new(),i=m.api.get("show",f);return a.get(i,g).error(c).then(c),h.defer(),h}var m=this;return f=h(),g=_.merge({},g,c(m),_.defaults),m.emit("find:called",f),i()?k():l()}}return d}]),angular.module("ngActiveResource").factory("ARPrimaryKey",[function(){function a(){var a="id";Object.defineProperty(this,"primaryKey",{configurable:!0,get:function(){return a},set:function(b){a=b}})}return a.extended=function(a){a.during("new",function(b){b.integer(a.primaryKey),privateVariable(b,"hasPrimaryKey",function(){return!_.isUndefined(b[a.primaryKey])&&!_.isNull(b[a.primaryKey])})})},a}]),angular.module("ngActiveResource").factory("ARQueryable",["$http","ARMixin","ARFunctional.Collection","ARPromiseable","ARHTTPResponseHandler","ARHTTPConfig",function(a,b,c,d,e,f){function g(){function g(a){_.each(a.response,function(b){a.deferred.push(a.klass.createOrUpdate(b))},a.klass)}function h(a){a.deferred.response=a.response,a.deferred.response.data&&(a.deferred.response=a.deferred.response.data)}this.findAll=function(a){return this.where({},a)},this.where=function(i,j){function k(){return _.isObject(i)?i:{}}function l(){function b(a,b,d){new e({action:"where",url:c,response:a,status:b,headers:d,deferred:n,klass:m,params:i,success:g,error:h})}var c=m.api.get("index",i);return a.get(c,j).error(b).then(b),n.defer(),n}var m=this,n=b([],c),j=_.merge({},j,f(m),_.defaults);return n.extend(d),this.watchedCollections.push(n),m.emit("where:called",i),i=k(),l()}}return g}]),angular.module("ngActiveResource").factory("ARSaveable",["$http","ARHTTPConfig","ARHTTPResponseHandler",function(a,b,c){function d(){this.__$save=function(d,e){function f(a,b,e){new c({action:"save",url:m,response:a,status:b,headers:e,deferred:k,klass:l,params:d,success:i,error:j})}function g(){return _.isUndefined(k.id)?"post":"put"}function h(){return _.isUndefined(k.id)?"create":"update"}function i(){}function j(){}var k=this,l=k.constructor,d=d||{},e=_.merge({},e,b(l),_.defaults);if(l.emit("save:called",k,d),k.defer(),k.update(d),k.$valid){var m=l.api.get(h(),k);a[g()](m,k.serialize(),e).error(f).then(f)}else k.reject(k.$errors);return k}}return d}]),angular.module("ngActiveResource").factory("ARUpdatable",[function(){function a(){this.__update=function(a){this.constructor.emit("update:called",this,a),_.each(a,this.updateAttribute,this),this.constructor.emit("update:beginning",this,a),this.constructor.emit("update:complete",this,a)},this.__updateAttribute=function(a,b){_.isUndefined(this.constructor.reflectOnAssociation(b))&&(this[b]=a)},this.__$update=function(a,b){return this.$save(a,b)}}function b(a,b){a.update(b)
}return a.included=function(a){a.after("find",b),a.after("save",b)},a}]),angular.module("ngActiveResource").factory("ARPromiseable",["$q",function(a){function b(){var b=this;privateVariable(b,"__defer",function(){privateVariable(this,"deferred",a.defer()),privateVariable(this,"then",function(){return this.deferred.promise.then.apply(this,arguments),this}),privateVariable(this,"catch",function(){return this.deferred.promise.catch.apply(this,arguments),this}),privateVariable(this,"finally",function(){return this.deferred.promise.finally,this}),privateVariable(this,"resolve",function(){this.deferred.resolve.apply(this,arguments)}),privateVariable(this,"reject",function(){this.deferred.reject.apply(this,arguments)})})}return b.extended=function(a){a.defer=(new b).__defer},b}]),angular.module("ngActiveResource").factory("ARQueryString",[function(){function a(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])n.call(a[b],d)&&(c[d]=a[b][d]);return a[b]=c,c}function b(c,d,e,f){var g=c.shift();if(!n.call(Object.prototype,e))if(g){var h=d[e]=d[e]||[];"]"==g?p(h)?""!=f&&h.push(f):"object"==typeof h?h[q(h).length]=f:h=d[e]=[d[e],f]:~o(g,"]")?(g=g.substr(0,g.length-1),!t.test(g)&&p(h)&&(h=a(d,e)),b(c,h,g,f)):(!t.test(g)&&p(h)&&(h=a(d,e)),b(c,h,g,f))}else p(d[e])?d[e].push(f):d[e]="object"==typeof d[e]?f:"undefined"==typeof d[e]?f:[d[e],f]}function c(a,c,d){if(~o(c,"]")){{var e=c.split("[");e.length}b(e,a,"base",d)}else{if(!t.test(c)&&p(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}j(a.base,c,d)}return a}function d(a){if("object"!=typeof a)return a;if(p(a)){var b=[];for(var c in a)n.call(a,c)&&b.push(a[c]);return b}for(var e in a)a[e]=d(a[e]);return a}function e(a){var b={base:{}};return r(q(a),function(d){c(b,d,a[d])}),d(b.base)}function f(a,b){var e=s(String(a).split(b.separator),function(a,b){var d=o(b,"="),e=k(b),f=b.substr(0,e||d),g=b.substr(e||d,b.length),g=g.substr(o(g,"=")+1,g.length);return""==f&&(f=b,g=""),""==f?a:c(a,l(f),l(g))},{base:{}}).base;return d(e)}function g(a,b){if(!b)throw new TypeError("stringify expects an object");return b+"="+encodeURIComponent(a)}function h(a,b){var c=[];if(!b)throw new TypeError("stringify expects an object");for(var d=0;d<a.length;d++)c.push(u(a[d],b+"["+d+"]"));return c.join("&")}function i(a,b){for(var c,d=[],e=q(a),f=0,g=e.length;g>f;++f)c=e[f],""!=c&&d.push(null==a[c]?encodeURIComponent(c)+"=":u(a[c],b?b+"["+encodeURIComponent(c)+"]":encodeURIComponent(c)));return d.join("&")}function j(a,b,c){var d=a[b];n.call(Object.prototype,b)||(void 0===d?a[b]=c:p(d)?d.push(c):a[b]=[d,c])}function k(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function l(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}var m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},p=Array.isArray||function(a){return"[object Array]"==m.call(a)},q=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},r="function"==typeof Array.prototype.forEach?function(a,b){return a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c])},s=function(a,b,c){if("function"==typeof a.reduce)return a.reduce(b,c);for(var d=c,e=0;e<a.length;e++)d=b(d,a[e]);return d},t=/^[0-9]+$/;querystring={},querystring.parse=function(a,b){return null==a||""==a?{}:(b=b||{},b.separator=b.separator||"&","object"==typeof a?e(a):f(a,b))};var u=querystring.stringify=function(a,b){return p(a)?h(a,b):"[object Object]"==m.call(a)?i(a,b):"string"==typeof a?g(a,b):b+"="+encodeURIComponent(String(a))};return querystring}]),angular.module("ngActiveResource").factory("ARReflections.AbstractReflection",["$injector",function(a){function b(c,d){function e(){return this.isBelongsTo()?c.toForeignKey():void 0}function f(){return g(this.options.provider?this.options.provider:j.call(this))}function g(a){return h(a)?h(a):(i(a),g(a))}function h(a){return b.models[a]}function i(c){b.models[c]=a.get(c)}function j(){return this.name.classify()}function k(a){return function(){return this.macro==a}}this.name=c,this.options=d,this.macro=d.macro,this.isBelongsTo=k("belongsTo"),this.isHasMany=k("hasMany"),this.foreignKey=d.foreignKey||e.call(this),this.associationPrimaryKey=function(){return d.primaryKey||this.klass.primaryKey},this.inverse=function(){return this.klass.reflections.where({klass:this.inverseKlass()}).first()},this.inverseKlass=function(){return d.inverseOf},this.containsAssociation=function(a){return!_.isUndefined(a[this.name])},this.containsForeignKey=function(a){return _.chain(a).keys().include(this.foreignKey).value()},this.initializeFor=function(a,b){return a[this.name]=b,a},Object.defineProperty(this,"klass",{enumerable:!0,get:function(){return f.call(this)}})}return b.models={},b}]),angular.module("ngActiveResource").factory("ARReflections.BelongsToReflection",["ARReflections.AbstractReflection","ARMixin",function(a,b){function c(c,d){function e(){privateVariable(this,"foreignKey",function(){return this[f.foreignKey]})}var f=this;a.call(f,c,d),f.initialize=function(a,c){return b(c,e),this.initializeByReference(a,c),this.initializeFromForeignKey(a,c),this.initializeInverse(a,c),this},f.initializeByReference=function(a,b){this.containsAssociation(b)&&this.initializeFor(a,b[this.name])},f.initializeFromForeignKey=function(a,b){this.containsForeignKey(b)&&(this.initializeFor(a,this.klass.cached.find(b.foreignKey())),_.isUndefined(a[f.name])||delete a[f.foreignKey])},f.initializeInverse=function(a){this.containsAssociation(a)&&(a.hasPrimaryKey()||d.includeWithoutPrimaryKey)&&a[this.name][this.inverse().name].nodupush(a)}}return c}]),angular.module("ngActiveResource").factory("ARReflections.HasManyReflection",["ARReflections.AbstractReflection","ARAssociatable.CollectionAssociation",function(a,b){function c(c,d){a.call(this,c,d),this.initialize=function(a,b){return this.initializeEmptyCollection(a,b),this.initializeFromAttributes(a,b),this.initializeInverse(a,b),this},this.initializeEmptyCollection=function(a){if(!this.containsAssociation(a)){var c=new b(a,this);this.initializeFor(a,c),this.options.inverseOf.watchedCollections.push(c)}},this.initializeFromAttributes=function(a,b){this.containsAssociation(b)&&(a[this.name].$removeAll(),_.each(_.flatten([b[this.name]]),function(b){a[this.name].nodupush(b)},this))},this.initializeInverse=function(a){this.containsAssociation(a)&&_.each(a[this.name],function(b){this.inverse().initialize(b,_.zipObject([this.inverse().name],[a]))},this)}}return c}]),angular.module("ngActiveResource").factory("ARReflections",["ARMixin","ARFunctional.Collection","ARReflections.AbstractReflection","ARReflections.HasManyReflection","ARReflections.BelongsToReflection",function(a,b,c,d,e){function f(c){privateVariable(this,"klass",c),privateVariable(this,"create",function(a,b,f){var g;switch(a){case"hasMany":g=d;break;case"belongsTo":g=e;break;default:throw"Unsupported macro "+a}c.reflections[b]=new g(b,_.merge({macro:a,inverseOf:c},f))}),a(this,b)}return f.AbstractReflection=c,f.HasManyReflection=d,f.BelongsToReflection=e,f.included=function(a){function b(b){return function(c,d){return d=d||{},a.reflections.create(b,c,d)}}privateVariable(a,"reflections",new f(a)),a.hasMany=b("hasMany"),a.belongsTo=b("belongsTo"),a.reflectOnAllAssociations=function(b){return _.isString(b)?a.reflections.select(function(a){return a.macro==b}).toObject(function(a,b){a[b.name]=b}):a.reflections},a.reflectOnAssociation=function(b){return a.reflections[b]}},f}]),angular.module("ngActiveResource").factory("ARDeserializable",["ARUnwrapRoot",function(a){function b(){function b(a,b){return _.isArray(b)?_.map(b,a.parse):a.parse(b)}this.deserialize=function(c){var d;return this.emit("deserialize:called",c),d=_.isString(c)&&_.isEmpty(c)?{}:this.api.mimetype().parse(c),this.api.unwrapRootElement&&(d=a(d)),_.isFunction(this.parse)&&(d=b(this,d)),this.emit("deserialize:complete",c),d}}return b}]),angular.module("ngActiveResource").factory("DropHasMany",[function(){return function(a,b){var b=b||a.constructor.reflections,c=_.cloneDeep(a);return b.select(function(a){return"hasMany"==a.macro}).each(function(a){delete c[a.name]}),c}}]),angular.module("ngActiveResource").factory("Foreignkeyify",[function(){return function(a,b){var b=b||a.constructor.reflections,c=_.cloneDeep(a);return _.transform(b,function(a,b){b.foreignKey&&c[b.name]&&(c[b.foreignKey]=c[b.name][b.associationPrimaryKey()],delete c[b.name])},c)}}]),angular.module("ngActiveResource").factory("ARSerializeAssociations",["Foreignkeyify","DropHasMany",function(a,b){return function(c,d){var d=d||c.constructor.reflections,e=_.cloneDeep(c);return e=a(e,d),e=b(e,d)}}]),angular.module("ngActiveResource").factory("ARSerializable",["ARSerializeAssociations",function(a){function b(){function b(a,b){return _.isArray(b)?_.map(b,a.format):a.format(b)}this.serialize=function(c){var d=this,e=a(c,d.reflections);return _.isFunction(d.format)&&(e=b(d,e)),e=d.api.mimetype().format(e)}}return b.extended=function(a){a.prototype.serialize=function(){return a.serialize(this)}},b}]),function(){angular.module("ngActiveResource").factory("ARSet",["ARStrictRequire",function(a){function b(){function b(a,b){var b=b||"Key already exists in set";if(void 0!==c[a])throw{name:"DuplicateSetKeyError",message:b}}var c={};return privateVariable(c,"find",function(a){return c[a]}),privateVariable(c,"add",function(d){a(d,["key","value"]),b(d.key,d.error),c[d.key]=d.value}),c}return b}])}(),angular.module("ngActiveResource").factory("ARStrictRequire",[function(){function a(a,c){_.each(c,function(c){if(void 0===a[c])throw new b(c)})}function b(a){this.name="StrictRequireError",this.message=a+" must be defined."}return b.prototype=Error.prototype,a}]),angular.module("ngActiveResource").factory("ARValidatable",["ARValidatable.Field","ARValidatable.validators.absence","ARValidatable.validators.acceptance","ARValidatable.validators.boolean","ARValidatable.validators.confirmation","ARValidatable.validators.exclusion","ARValidatable.validators.format","ARValidatable.validators.inclusion","ARValidatable.validators.integer","ARValidatable.validators.length","ARValidatable.validators.numericality","ARValidatable.validators.required","ARValidatable.validators.requiredIf",function(a){function b(){function b(a,b){b.validate(a)===!1?a.$errors.add(b.field,b.message):a.$errors.clear(b.field,b.message)}function c(a){return a&&e[a]?e[a]:_.chain(e).map(function(a){return a}).flatten().value()}function d(b,c){e[c]?e[c].addValidators(b):e[c]=new a(c,b)}var e={};privateVariable(e,"add",function(a){_.each(a,d)}),privateVariable(e,"validate",function(a,d){var e=c(d);return _.each(e,_.curry(b)(a)),0===a.$errors.countFor(d)}),this.validations=e,this.validates=e.add,this.__validate=function(a){return this.constructor.validations.validate(this,a)},Object.defineProperty(this,"__$valid",{get:function(){return this.constructor.validations.validate(this)}}),Object.defineProperty(this,"__$invalid",{get:function(){return!this.constructor.validations.validate(this)}})}return b}]),angular.module("ngActiveResource").factory("ARValidatable.Field",["ARValidatable.Validator","ARValidatable.Validation","ARValidatable.validators","ARValidatable.ValidationMessageNotFoundError",function(a,b,c,d){function e(e,f){var g=[];return g.addValidators=function(a){_.each(a,g.addValidator)},g.addValidator=function(f,h){var i=c.find(h)||new a(f,h),j=_.flatten([i.configure(f)]);if(_.isUndefined(i.message))throw new d(h,e);_.each(j,function(a){g.push(new b(e,a))})},g.addValidators(f),g}return e}]),angular.module("ngActiveResource").factory("ARValidatable.Validation",[function(){function a(a,b){this.field=a,this.message=b.message,this.validate=function(c){return b(c[a],c,a)}}return a}]),angular.module("ngActiveResource").factory("ARValidatable.DuplicateValidatorError",[function(){function a(a){this.name="DuplicateValidatorError",this.message="A validator by the name '"+a+"' has already been registered."}return a.prototype=Error.prototype,a}]),angular.module("ngActiveResource").factory("ARValidatable.ValidationMessageNotFoundError",[function(){function a(a,b){this.name="ValidationMessageNotFound",this.message="Validation message not found for validator '"+a+"' on the field '"+b+".' Validation messages must be added to validators in order to provide your users with useful error messages."}return a.prototype=Error.prototype,a}]),angular.module("ngActiveResource").factory("ARValidatable.ValidatorNotFoundError",[function(){function a(a){this.name="ValidatorNotFoundError",this.message="No validator found by the name of `"+a+"`. Custom validators must define a `validator` key containing the custom validation function."}return a.prototype=Error.prototype,a}]),angular.module("ngActiveResource").factory("ARValidatable.ValidationFn",[function(){function a(a,b){function c(){return _.isString(b.message)?b.message:_.isFunction(b.message)?b.message.apply(b):void 0}var d=_.bind(a,b);return d.message=c(),d}return a}]),angular.module("ngActiveResource").factory("ARValidatable.Validator",["ARValidatable.ValidationFn","ARValidatable.validators","ARValidatable.ValidatorNotFoundError",function(a,b,c){function d(a,b){return _.isFunction(a.validator)?(a.message&&(a.validator.message=a.message),new e(a.validator,b)):void 0}function e(e,f){function g(a){_.each(a,function(a,b){h(a)&&(l.childValidators[b]=a)})}function h(a){return"Validator"==a.constructor.name}function i(){return Object.keys(l.childValidators).length>0}function j(a){return _.chain(l.childValidators).map(function(b,c){return a[c]?b.configure(a[c]):void 0}).compact().value()}function k(a){return(!_.isObject(a)||_.isArray(a)||_.isFunction(a))&&(a={value:a,message:this.message}),!_.isUndefined(e.name)&&_.isUndefined(a[e.name])&&(a[e.name]=a.value),a}if(e.validator)return new d(e,f);if(!_.isFunction(e))throw new c(f);this.name=e.name||f,this.title=e.title||f,this.message=e.message,this.configure=function(b){return b=k(b),i()?j(b):new a(e,_.defaults(b,this))};var l=this;this.childValidators={},g(e.options),b.register(l)}return e}]),angular.module("ngActiveResource").factory("ARValidatable.validators.absence",["ARValidatable.Validator",function(a){function b(a){return void 0===a||null===a?!0:"String"==a.constructor.name?!a.length:!1}return b.message="must be blank.",b.title="absence",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.acceptance",["ARValidatable.Validator",function(a){function b(a){return c(a)?!0:1==a}function c(a){return a===!1?!1:!a}return b.message=function(){return"must be accepted."},b.title="acceptance",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.boolean",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:1==a||a===!1||"true"==a||"false"==a}return b.message=function(){return"is not a boolean"},b.title="boolean",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.confirmation",["ARValidatable.Validator",function(a){function b(a,b,c){var d=c+"Confirmation",e=b[d];return a==e}return b.message=function(){return"must match confirmation field."},b.title="confirmation",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.exclusion",["ARValidatable.Validator",function(a){function b(a){if(void 0===a||""===a||null===a)return!0;if(!this.from)throw"Exclusion validator must specify 'from' attribute.";var b=!0;return this.from.forEach(function(c){c==a&&(b=!1)}),b}return b.message=function(){return lastVal="or "+this.from.slice(-1),joinedArray=this.from.slice(0,-1),joinedArray.push(lastVal),list=joinedArray.join(joinedArray.length>=3?", ":" "),"must not be "+list+"."},b.title="exclusion",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.format.email",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/.test(a)}return b.message=function(){return"is not a valid email."},b.title="email",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.format",["ARValidatable.Validator","ARValidatable.validators.format.email","ARValidatable.validators.format.zip","ARValidatable.validators.format.regex",function(a,b,c,d){function e(){}return e.message="is not the correct format.",e.options={email:b,zip:c,regex:d},e.title="format",new a(e)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.format.regex",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:this.regex.test(a)}return b.message=function(){return"does not match the pattern."},b.title="regex",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.format.zip",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/.test(a)}return b.message=function(){return"is not a valid zip code."},b.title="zip",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.inclusion",["ARValidatable.Validator",function(a){function b(a){if(void 0===a||""===a||null===a)return!0;if(!this.in)throw"Inclusion validator must specify 'in' attribute.";var b=!1;return this.in.forEach(function(c){c==a&&(b=!0)}),b}return b.message=function(){return lastVal="or "+this.in.slice(-1),joinedArray=this.in.slice(0,-1),joinedArray.push(lastVal),list=joinedArray.join(joinedArray.length>=3?", ":" "),"must be included in "+list+"."},b.title="inclusion",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.integer",["ARValidatable.Validator",function(a){function b(a){return a?"Array"==a.constructor.name?!1:"Object"==a.constructor.name?!1:(a=String(a),a.match(/\./)?!1:(this.ignore&&(a=a.replace(this.ignore,"")),!isNaN(Number(a)))):!0}return b.message=function(){return"is not an integer."},b.title="integer",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.length.in",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:a.length>=this.inRange[0]&&a.length<=this.inRange.slice(-1)[0]}return b.message=function(){return"must be between "+this.inRange[0]+" and "+this.inRange.slice(-1)[0]+" characters."},b.title="in",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.length.is",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:a.length==this.is}return b.message=function(){return"must be "+this.is+" characters."},b.title="is",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.length",["ARValidatable.Validator","ARValidatable.validators.length.max","ARValidatable.validators.length.min","ARValidatable.validators.length.in","ARValidatable.validators.length.is",function(a,b,c,d,e){function f(){}return f.message="does not meet the length requirements.",f.options={max:b,min:c,"in":d,is:e},f.title="length",new a(f)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.length.max",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:a.length<=this.max}return b.message=function(){return"Must be no more than "+this.max+" characters"},b.title="max",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.length.min",["ARValidatable.Validator",function(a){function b(a){return void 0===a||""===a||null===a?!0:a.length>=this.min}return b.message=function(){return"Must be at least "+this.min+" characters"},b.title="min",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.numericality",["ARValidatable.Validator",function(a){function b(a){return a?(a=String(a),this.ignore&&(a=a.replace(this.ignore,"")),!isNaN(Number(a))):!0}return b.message=function(){return"is not a number."},b.title="numericality",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.requiredIf",["ARValidatable.Validator",function(a){function b(a,b,c){return this.requiredIf(a,b,c)?void 0===a||null===a?!1:"String"==a.constructor.name?!!(a&&a.length||"object"==typeof a):void 0!==a:!0}return b.message="cannot be blank.",b.title="requiredIf",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators.required",["ARValidatable.Validator",function(a){function b(a){return void 0===a||null===a?!1:"String"==a.constructor.name?!!(a&&a.length||"object"==typeof a):void 0!==a}return b.message="cannot be blank.",b.title="required",new a(b)}]),angular.module("ngActiveResource").factory("ARValidatable.validators",["ARValidatable.DuplicateValidatorError",function(a){var b={};return b.register=function(c){var d=c.title||c.name;if(!_.isUndefined(b[d]))throw new a(d);b[d]=c},b.find=function(a){return b[a]},b}]),angular.module("ngActiveResource").factory("ARWatchable",["ARMixin","ARFunctional.Collection",function(a,b){function c(){this.watchedCollections=c.watchedCollections}return c.extended=function(a){a.after("delete",a.watchedCollections.$remove)},c.watchedCollections=a([],b),c.watchedCollections.$remove=function(a){c.watchedCollections.each(function(b){b.$reject(function(b){return b===a})})},c}]);